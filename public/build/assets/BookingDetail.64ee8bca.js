import{u as B,r as N,a as b,o,c as a,b as i,d as k,w as d,F as r,H as V,e as s,n as y,t as l,f as p,g as T,v as z,h as v,i as Y,L as E}from"./app.cea855f7.js";import{_ as P}from"./Authenticated.d169710d.js";import{T as $}from"./Table.c99bc67c.js";import{_}from"./Actions.5787c160.js";import{u as R}from"./useAlerts.6e7215ec.js";const j={class:"flex flex-col py-5"},G={class:"bg-white shadow-[0_4px_10px_rgba(0,0,0,0.15)] p-10 w-[98%] rounded-lg block box-border space-y-5"},I={class:"relative"},L={class:"flex flex-col space-y-2 absolute right-0"},M={key:0,class:"ml-auto"},O={class:"flex flex-row flex-wrap"},U=s("li",{class:"w-44"},"Booking Id",-1),H=s("li",{class:"w-24"},":",-1),W={class:"w-[40rem]"},X={class:"flex flex-row flex-wrap"},q=s("li",{class:"w-44"},"Driver Name",-1),J=s("li",{class:"w-24"},":",-1),K={class:"w-[40rem]"},Q={class:"flex flex-row flex-wrap"},Z=s("li",{class:"w-44"},"Rider Name",-1),ss=s("li",{class:"w-24"},":",-1),es={class:"w-[40rem]"},ts={class:"flex flex-row flex-wrap"},ls=s("li",{class:"w-44"},"Pickup",-1),os=s("li",{class:"w-24"},":",-1),as={class:"w-[40rem]"},is={class:"flex flex-row flex-wrap"},cs=s("li",{class:"w-44"},"Drop Off",-1),ns=s("li",{class:"w-24"},":",-1),ds={class:"w-[40rem]"},us={key:0,class:"flex flex-row flex-wrap"},rs=s("li",{class:"w-44"},"Date",-1),_s=s("li",{class:"w-24"},":",-1),hs={class:"w-[40rem]"},ws={class:"flex flex-row flex-wrap"},fs=s("li",{class:"w-44"},"Start Time",-1),gs=s("li",{class:"w-24"},":",-1),ms={class:"w-[40rem]"},xs={key:0,class:"flex flex-row flex-wrap"},bs=s("li",{class:"w-44"},"End Time",-1),ks=s("li",{class:"w-24"},":",-1),ys={class:"w-[40rem]"},ps={key:1,class:"flex flex-row flex-wrap"},vs=s("li",{class:"w-44"},"Cancelled Time",-1),Fs=s("li",{class:"w-24"},":",-1),Cs={class:"w-[40rem]"},Ds={class:"flex flex-row flex-wrap"},As=s("li",{class:"w-44"},"Vehicle Type",-1),Ss=s("li",{class:"w-24"},":",-1),Bs={class:"w-[40rem]"},Ns={class:"flex flex-row flex-wrap"},Vs=s("li",{class:"w-44"},"Wheel Chair Access",-1),Ts=s("li",{class:"w-24"},":",-1),zs={class:"w-[40rem]"},Ys={class:"flex flex-row flex-wrap"},Es=s("li",{class:"w-44"},"Accompanied with Guide Dog",-1),Ps=s("li",{class:"w-24"},":",-1),$s={class:"w-[40rem]"},Rs={class:"flex flex-row flex-wrap"},js=s("li",{class:"w-44"},"Carrying Pets",-1),Gs=s("li",{class:"w-24"},":",-1),Is={class:"w-[40rem]"},Ls={class:"flex flex-row flex-wrap"},Ms=s("li",{class:"w-44"},"Payment Method",-1),Os=s("li",{class:"w-24"},":",-1),Us={class:"w-[40rem] capitalize"},Hs={class:"flex flex-col items-start justify-around p-2"},Ws={class:"flex flex-row items-center space-x-2 py-2"},Xs=["src"],qs={class:"font-medium capitalize"},Js={class:"capitalize text-slate-500"},Ks={class:"bg-[#F3F4F8] rounded-lg p-3"},Qs={class:"mt-2"},Zs=s("thead",null,[s("tr",{class:"bg-[#1D1C1C] text-white"},[s("th",null,"Image"),s("th",null,"Name"),s("th",null,"Email"),s("th",null,"Phone No"),s("th",null,"Vehicle No"),s("th",null,"Status"),s("th",null,"Action")])],-1),se=["src"],ee={class:"p-2 pl-5 flex flex-row"},ce={__name:"BookingDetail",props:{booking:Object,missedBy:Array},setup(e){const F=e,h=B({}),{alert:w}=R(),C=c=>{w(null,`Are you sure you want to ${c.status==="active"?"block":"unblock"} this driver`,null,"Yes , do it!").then(({isConfirmed:n})=>n?h.put(route("drivers.status.change",{user:c}),{preserveScroll:!0,onSuccess:()=>{}}):null)},D=c=>{w(null,"Are you sure you want to delete driver",null,"Yes , do it!").then(({isConfirmed:n})=>n?h.delete(route("drivers.delete",{id:c}),{preserveScroll:!0,onSuccess:()=>{}}):null)};return N({}),(c,n)=>{const A=b("v-rating"),S=b("v-card-title");return o(),a(r,null,[i(k(V),{title:"Bookings Detail"}),i(P,{title:"Bookings Detail","is-back":""},{default:d(()=>{var f,g,m,x;return[s("main",j,[s("ul",G,[s("div",I,[s("div",L,[s("div",{class:y([" ml-auto text-center text-white px-1 rounded font-sans capitalize",e.booking.status==="completed"?"bg-[#4BD28F]":e.booking.status==="active"?"bg-[#C6D610]":e.booking.status==="enRoute"?"bg-[#0194FF]":e.booking.status==="pending"?"bg-[#FFAA00]":e.booking.status==="arrived"?"bg-[#996995]":e.booking.status==="progress"?"bg-[#FFAA00]":e.booking.status==="cancelled"?"bg-[#FF0000]":"bg-[#FF8410]"])},l(e.booking.cronjob_at?"AUTO EXPIRE BY SYSTEM":e.booking.status==="enRoute"?"Going to Pickup":e.booking.status==="progress"?"Going to Dropoff":e.booking.status),3),e.booking.status==="cancelled"||e.booking.status==="accepted"?(o(),a("p",M," by "+l((g=e.booking.cancelled_by)!=null?g:(f=e.booking.driver)==null?void 0:f.name),1)):p("",!0)])]),s("ul",O,[U,H,s("li",W,l(e.booking.booking_nr),1)]),s("ul",X,[q,J,s("li",K,l((m=e.booking.driver)==null?void 0:m.name),1)]),s("ul",Q,[Z,ss,s("li",es,l((x=e.booking.rider)==null?void 0:x.name),1)]),s("ul",ts,[ls,os,s("li",as,l(e.booking.pickup_address),1)]),s("ul",is,[cs,ns,s("li",ds,l(e.booking.dropoff_address),1)]),e.booking.date?(o(),a("ul",us,[rs,_s,s("li",hs,l(e.booking.date),1)])):p("",!0),s("ul",ws,[fs,gs,s("li",ms,l(e.booking.accepted_at),1)]),T(s("div",null,[e.booking.completed_at?(o(),a("ul",xs,[bs,ks,s("li",ys,l(e.booking.completed_at),1)])):(o(),a("ul",ps,[vs,Fs,s("li",Cs,l(e.booking.cancelled_at),1)]))],512),[[z,e.booking.status!=="expire"]]),s("ul",Ds,[As,Ss,s("li",Bs,l(e.booking.vehicle),1)]),s("ul",Ns,[Vs,Ts,s("li",zs,l(e.booking.with_chair?"Yes":"No"),1)]),s("ul",Ys,[Es,Ps,s("li",$s,l(e.booking.with_dog?"Yes":"No"),1)]),s("ul",Rs,[js,Gs,s("li",Is,l(e.booking.with_pets?"Yes":"No"),1)]),s("ul",Ls,[Ms,Os,s("li",Us,l(e.booking.payment_type),1)])]),(o(!0),a(r,null,v(e.booking.ratings,t=>(o(),a("div",Hs,[s("div",Ws,[s("img",{src:t.user.avatar,class:"w-10 h-10 rounded-full"},null,8,Xs),s("div",null,[s("h1",qs,l(t.user.name),1),s("p",Js,l(t.user.role),1)])]),s("div",Ks,[i(A,{modelValue:t.stars,"onUpdate:modelValue":u=>t.stars=u,readonly:"",size:"18",color:"yellow-darken-2"},null,8,["modelValue","onUpdate:modelValue"]),s("p",Qs,l(t.review),1)])]))),256)),i(S,{class:"px-0"},{default:d(()=>[Y("Missed By")]),_:1}),i($,{class:"rounded border"},{default:d(()=>[Zs,s("tbody",null,[(o(!0),a(r,null,v(F.missedBy,t=>(o(),a("tr",{key:t.id,class:"cursor-pointer"},[s("td",null,[s("img",{src:t.avatar,class:"w-10 rounded-full",alt:""},null,8,se)]),s("td",null,l(t.name),1),s("td",null,l(t.email),1),s("td",null,l(t.phone),1),s("td",null,l(t.vehicle_nr),1),s("td",null,[s("span",{class:y(["text-white px-2 rounded font-sans capitalize",t.status==="active"&&t.profile_status==="complete"?"bg-green-700":t.profile_status==="pending"||t.profile_status==="progress"?"bg-[#FFAA00]":"bg-[#FF0000]"])},l(t.profile_status==="pending"||t.profile_status==="progress"?t.profile_status:t.status),3)]),s("td",ee,[i(_,{isStatus:t.status,onClick:u=>C(t)},null,8,["isStatus","onClick"]),i(_,{isDelete:!0,onClick:u=>D(t.id)},null,8,["onClick"]),i(k(E),{as:"button",href:"/driver",data:{slug:t.slug}},{default:d(()=>[i(_,{isView:!0})]),_:2},1032,["data"])])]))),128))])]),_:1})])]}),_:1})],64)}}};export{ce as default};
