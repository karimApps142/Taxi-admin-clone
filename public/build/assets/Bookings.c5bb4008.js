import{_ as C}from"./Authenticated.d169710d.js";import{u as D,r as S,q as R,a as E,o as l,c as f,b as r,d as c,H as z,w as i,F as u,e,h,l as p,f as I,y as A,z as N,n as y,i as V,t as a,L as j}from"./app.cea855f7.js";import{_ as P,T as G}from"./Table.c99bc67c.js";import{_ as L}from"./Pagination.765da988.js";import{h as T}from"./moment.9709ab41.js";const $=s=>(A("data-v-ae1e9b6a"),s=s(),N(),s),H={class:"flex flex-row items-center relative"},Y={class:"absolute left-0 z-50"},q={class:"absolute right-0 z-50"},M={id:"tabs",ref:"tabs",class:"py-2 flex flex-row items-center space-x-2 overflow-auto max-w-5xl px-10"},O={class:"flex flex-col"},X=$(()=>e("thead",null,[e("tr",{class:"bg-[#1D1C1C] text-white"},[e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Booking Id "),e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Driver Name "),e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Rider Name "),e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Location "),e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Destination "),e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Status "),e("th",{class:"p-2 pr-16 pl-5 font-medium font[arial] text-base text-left w-54"}," Date ")])],-1)),J={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},K={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},Q={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},U={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},W={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},Z={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},g={class:"p-2 pl-5 font-medium font[arial] text-base text-left border-b-2"},k={class:"py-2"},tt={__name:"Bookings",props:{filter:String,bookings:Object},setup(s){const m=s,x=D({filter:""}),B=()=>{x.get(route("bookings"),{preserveScroll:!0})},b=S({filters:[{title:"All",value:null},{title:"Pending",value:"pending"},{title:"Accepted",value:"accepted"},{title:"Going to Pickup",value:"enRoute"},{title:"Arrived",value:"arrived"},{title:"Going to Dropoff",value:"progress"},{title:"Completed",value:"completed"},{title:"Cancelled",value:"cancelled"},{title:"Cancelled by Rider",value:"cancelledByRider"},{title:"Cancelled by Driver",value:"cancelledByDriver"},{title:"Expired By System",value:"expiredBySystem"},{title:"Expired By Rider",value:"expiredByRider"}]});R(null);const w=()=>{document.getElementById("tabs").scrollBy(100,0)},F=()=>{document.getElementById("tabs").scrollBy(-100,0)};return(n,d)=>{const o=E("VBtn");return l(),f(u,null,[r(c(z),{title:"Bookings"}),r(C,{title:"Bookings"},{default:i(()=>[e("div",H,[e("span",Y,[r(o,{onClick:d[0]||(d[0]=t=>F()),size:"small",icon:"mdi-chevron-left"})]),e("span",q,[r(o,{onClick:d[1]||(d[1]=t=>w()),class:"absolute",size:"small",icon:"mdi-chevron-right"})]),e("div",M,[(l(!0),f(u,null,h(b.filters,t=>(l(),p(o,{key:t.value,size:"small",onClick:()=>{c(x).filter=t.value,B()},color:s.filter===t.value?"#1D1C1C":"#F7F7F7",class:y(s.filter===t.value?"text-white":"text-black"),variant:"flat"},{default:i(()=>[V(a(t.title),1)]),_:2},1032,["onClick","color","class"]))),128))],512)]),e("section",O,[r(G,{class:"border rounded mt-5"},{default:i(()=>[X,e("tbody",null,[(l(!0),f(u,null,h(s.filter?m.bookings:m.bookings.data,t=>(l(),p(c(j),{as:"tr",href:n.route("booking.detail",{id:t.id}),key:t.id,class:"cursor-pointer"},{default:i(()=>{var _,v;return[e("td",J,a(t.booking_nr),1),e("td",K,a((_=t.driver)==null?void 0:_.name),1),e("td",Q,a((v=t.rider)==null?void 0:v.name),1),e("td",U,a(t.pickup_address),1),e("td",W,a(t.dropoff_address),1),e("td",Z,[e("div",{class:y(["w-20 text-center",["text-white px-1 rounded font-sans capitalize",t.status==="completed"?"bg-[#4BD28F]":t.status==="active"?"bg-[#C6D610]":t.status==="enRoute"?"bg-[#0194FF] w-28":t.status==="pending"?"bg-[#FFAA00]":t.status==="arrived"?"bg-[#996995]":t.status==="progress"?"bg-[#FFAA00] w-32":t.status==="cancelled"?"bg-[#FF0000]":(t==null?void 0:t.status)==="expired"&&(t==null?void 0:t.cronjob_at)?"bg-[#ff3410] w-36":(t==null?void 0:t.status)==="expired"&&!(t!=null&&t.cronjob_at)?"bg-[#FF8410] w-36":"bg-[#FF8410]"]])},a(t.status==="enRoute"?"Going to Pickup":t.status==="progress"?"Going to Dropoff":t.status==="expired"&&(t==null?void 0:t.cronjob_at)?"EXPIRE BY SYSTEM":t.status==="expired"&&!(t!=null&&t.cronjob_at)?"Expire By Rider":t.status),3)]),e("td",g,a(c(T)(t.created_at).calendar()),1)]}),_:2},1032,["href"]))),128))])]),_:1}),e("div",k,[s.filter?I("",!0):(l(),p(L,{key:0,links:s.bookings.links},null,8,["links"]))])])]),_:1})],64)}}};var dt=P(tt,[["__scopeId","data-v-ae1e9b6a"]]);export{dt as default};
